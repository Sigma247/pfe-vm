{"remainingRequest":"/home/khalil/Projects/pfe_docker/pfe-vm/vuejs_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/khalil/Projects/pfe_docker/pfe-vm/vuejs_frontend/src/components/CrawlersList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/khalil/Projects/pfe_docker/pfe-vm/vuejs_frontend/src/components/CrawlersList.vue","mtime":1633827983584},{"path":"/home/khalil/Projects/pfe_docker/pfe-vm/vuejs_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1632090923690},{"path":"/home/khalil/Projects/pfe_docker/pfe-vm/vuejs_frontend/node_modules/babel-loader/lib/index.js","mtime":1632090923670},{"path":"/home/khalil/Projects/pfe_docker/pfe-vm/vuejs_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1632090923690},{"path":"/home/khalil/Projects/pfe_docker/pfe-vm/vuejs_frontend/node_modules/vue-loader/lib/index.js","mtime":1632090924245}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwQWN0aW9ucyxtYXBHZXR0ZXJzLCBtYXBTdGF0ZX0gZnJvbSAidnVleCIKaW1wb3J0IENyYXdsZXJEZXRhaWxzIGZyb20gJy4vQ3Jhd2xlckRldGFpbHMudnVlJzsKICBleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogeyBDcmF3bGVyRGV0YWlscyB9LAoKICAgIG5hbWU6ICdDcmF3bGVyc0xpc3QnLAogICAgcHJvcHM6IHsKICAgICAgcmVmcmVzaENyYXdsZXJMaXN0RGF0YTogZmFsc2UKICAgIH0sCiAgICAKICAgIGRhdGEgKCkgewogICAgICByZXR1cm4gewogICAgICAgIHNlYXJjaDogJycsCiAgICAgICAgaW5Qcm9jZXNzOiB0cnVlLAogICAgICAgIHN0YXJ0TG9uZ1BvbGxpbmc6ZmFsc2UsCiAgICAgICAgcG9sbGluZzogbnVsbCwKICAgICAgICBzdG9wcGluZ0NyYXdsZXI6IGZhbHNlLAogICAgICAgIGNyYXdsZXJBbGVydDogZmFsc2UsCiAgICAgICAgY3Jhd2xlckFsZXJ0VGltZW91dE1lc3NhZ2U6IDUwMDAsCiAgICAgICAgY3Jhd2xlckFsZXJ0TWVzc2FnZTogJycsCiAgICAgICAgY3Jhd2xlckFsZXJ0SWNvbjogJycsCiAgICAgICAgdHJpZ2dlck9wZW5DcmF3bGVyRGV0YWlsczogZmFsc2UsCiAgICAgICAgdG90YWxQcm9kdWN0c0ZvdW5kOiAwLAogICAgICAgIGxhc3RDcmF3bGVyOiB7fSwKICAgICAgICBsYXN0Q3Jhd2xlclRhc2tJZDogbnVsbCwKICAgICAgICBjcmF3bGVyRGV0YWlsc1JlYWR5OiBmYWxzZSwKICAgICAgICBwcm9kdWN0c0luc2VydGVkUGVyY2VudGFnZTogMCwKICAgICAgICB0aW1lQ291bnRlcjogJycsCiAgICAgICAgdGltZVRvUHVsbEZyZXNoQ3Jhd2xlckRhdGE6IDAsCiAgICAgICAgam9iX2lkIDogbnVsbCwKICAgICAgICBjcmF3bGVySW5Qcm9jZXNzOnsKICAgICAgICAgIHByb2plY3Q6ICdkZWZhdWx0JywKICAgICAgICAgIGpvYjogJycKICAgICAgICB9LAogICAgICAgIGhlYWRlcnM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgdGV4dDogJ0NyYXdsZXIgTmFtZScsCiAgICAgICAgICAgIGFsaWduOiAnc3RhcnQnLAogICAgICAgICAgICB2YWx1ZTogJ25hbWUnLAogICAgICAgICAgfSwKICAgICAgICAgIHsgdGV4dDogJ1N0YXJ0IFVSTCcsIHZhbHVlOiAnc3RhcnRfdXJsJywgc29ydGFibGU6IGZhbHNlIH0sCiAgICAgICAgICB7IHRleHQ6ICdTdGF0dXMnLCB2YWx1ZTogJ3N0YXRlJywgc29ydGFibGU6IGZhbHNlIH0sCiAgICAgICAgICB7IHRleHQ6ICdVbmlxdWUgSUQnLCB2YWx1ZTogJ3Rhc2tfaWQnLCBzb3J0YWJsZTogZmFsc2V9LAogICAgICAgICAgeyB0ZXh0OiAnICcsIHZhbHVlOiAnYnRuX3J1bl9zdG9wJywgc29ydGFibGU6IGZhbHNlIH0sCiAgICAgICAgICB7IHRleHQ6ICcgJywgdmFsdWU6ICdidG5fZGVsZXRlJywgc29ydGFibGU6IGZhbHNlIH0sCiAgICAgICAgICB7IHRleHQ6ICcgJywgdmFsdWU6ICdkZXRhaWxzX2J0bicsIHNvcnRhYmxlOiBmYWxzZSB9LAogICAgICAgIF0sCiAgICAgIH0KICAgIH0sCgogICAgbW91bnRlZCAoKSB7CiAgICAgIHRoaXMuZ2V0Sm9iU3RhdGUKICAgICAgdGhpcy5nZXRDcmF3bGVyc0RhdGEoKTsKICAgIH0sCgogICAgd2F0Y2g6IHsKICAgICAgZ2V0RnVsbFBhdGggKCkgewogICAgICAgIHRoaXMuZ2V0Q3Jhd2xlcnNEYXRhKCkKICAgICAgfSwKCiAgICAgIHJlZnJlc2hDcmF3bGVyTGlzdERhdGEoKXsKICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSwgIAoKICAgICAgZ2V0Sm9iU3RhdGUobmV3VmFsLCBvbGRWYWwpewogICAgICAgICAgLy8gY29uc29sZS5sb2coIlRJTUUgVE8gUFVMTC0tLT4gIit0aGlzLnRpbWVUb1B1bGxGcmVzaENyYXdsZXJEYXRhKQogICAgICAgICAgdGhpcy5wb2xsaW5nRnJlc2hDcmF3bGVyc0luZm8oKQogICAgICB9LAoKICAgICAgZ2V0TGFzdENyYXdsZXJUYXNrSWQobmV3VmFsLCBvbGRWYWwpewogICAgICAgICAgY29uc29sZS5sb2coIk9MRCBJRDogIitvbGRWYWwpCiAgICAgICAgICBjb25zb2xlLmxvZygiTkVXIElEOiAiK25ld1ZhbCkKICAgICAgICAgIGlmKG9sZFZhbCAhPSB1bmRlZmluZWQpewogICAgICAgICAgICBjb25zb2xlLmxvZygiLS0+UkVBRFkiKQogICAgICAgICAgICB0aGlzLmNyYXdsZXJEZXRhaWxzUmVhZHkgPSB0cnVlCiAgICAgICAgICAgIAogICAgICAgICAgfQogICAgICB9LAogICAgICAKICAgICAgZ2V0Q3Jhd2xlclByb2R1Y3RzSW5zZXJ0ZWQobmV3VmFsLCBvbGRWYWwpewogICAgICAgIHRoaXMucHJvZHVjdHNJbnNlcnRlZFBlcmNlbnRhZ2UgPSB0aGlzLmNhbGN1bGF0ZVBlcmNlbnRhZ2UobmV3VmFsLCB0aGlzLmdldENyYXdsZXJEZXRhaWxzLm51bWJlcl9vZl9wcm9kdWN0c19mb3VuZCkKICAgICAgfQoKICAgIH0sCgogICAgY29tcHV0ZWQ6IHsKICAgICAgLi4ubWFwR2V0dGVycygiQXV0aCIsWyJpc0F1dGgiXSksCiAgICAgIC4uLm1hcEdldHRlcnMoIkNyYXdsZXIiLFsiZ2V0Q3Jhd2xlcnMiXSksCiAgICAgIC4uLm1hcEdldHRlcnMoIkNyYXdsZXIiLFsiaXNMb2FkaW5nIl0pLAogICAgICAuLi5tYXBHZXR0ZXJzKCJDcmF3bGVyIixbImdldExvYWRpbmdSdW5uaW5nQ3Jhd2xlckV4ZWN1dGlvbiJdKSwKICAgICAgLi4ubWFwR2V0dGVycygiQ3Jhd2xlciIsWyJnZXRSdW5uaW5nQ3Jhd2xlciJdKSwKICAgICAgLi4ubWFwR2V0dGVycygiQ3Jhd2xlciIsWyJnZXRSdW5uaW5nQ3Jhd2xlclRhc2tJZCJdKSwKICAgICAgLi4ubWFwR2V0dGVycygiQ3Jhd2xlciIsWyJnZXRKb2IiXSksCiAgICAgIC4uLm1hcEdldHRlcnMoIkNyYXdsZXIiLFsiZ2V0RmluaXNoZWRKb2JzIl0pLAogICAgICAuLi5tYXBHZXR0ZXJzKCJDcmF3bGVyIixbImdldEpvYlN0YXRlIl0pLAogICAgICAuLi5tYXBHZXR0ZXJzKCJDcmF3bGVyIixbImdldERlbGV0aW5nQ3Jhd2xlckxvYWRpbmciXSksCiAgICAgIC4uLm1hcEdldHRlcnMoIkNyYXdsZXIiLFsiZ2V0Q3Jhd2xlckRldGFpbHMiXSksCiAgICAgIC4uLm1hcFN0YXRlKCJDcmF3bGVyIixbImNyYXdsZXJfZGV0YWlscyJdKSwKICAgICAgLi4ubWFwU3RhdGUoIkNyYXdsZXIiLFsicnVubmluZ19jcmF3bGVyX3Rhc2tfaWQiXSksCiAgICAgIC4uLm1hcEdldHRlcnMoIkNyYXdsZXIiLFsiZ2V0T3RoZXJFcnJvcnMiXSksCiAgICAgIAoKICAgICAgZ2V0RnVsbFBhdGggKCkgewogICAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5wYXRoCiAgICAgIH0sCgogICAgICBnZXRMYXN0Q3Jhd2xlclRhc2tJZCgpewogICAgICAgIHJldHVybiB0aGlzLmNyYXdsZXJfZGV0YWlscy50YXNrX2lkCiAgICAgIH0sCgogICAgICBnZXRDcmF3bGVyUHJvZHVjdHNJbnNlcnRlZCgpewogICAgICAgIHRyeSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDcmF3bGVyRGV0YWlscy5wcm9kdWN0c19pbnNlcnRlZAogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fQogICAgICB9CgogICAgICAKCiAgICAgIAogICAgfSwKICAgIAogICAgbWV0aG9kczp7CiAgICAgICAgLi4ubWFwQWN0aW9ucygnQ3Jhd2xlcicsWydnZXRBbGxDcmF3bGVycyddKSwKICAgICAgICAuLi5tYXBBY3Rpb25zKCdDcmF3bGVyJyxbJ3J1bkNyYXdsZXInXSksCiAgICAgICAgLi4ubWFwQWN0aW9ucygnQ3Jhd2xlcicsWydnZXRKb2JzJ10pLAogICAgICAgIC4uLm1hcEFjdGlvbnMoJ0NyYXdsZXInLFsnY2FuY2VsUnVubmluZ0pvYiddKSwKICAgICAgICAuLi5tYXBBY3Rpb25zKCdDcmF3bGVyJyxbJ2dldFJ1bmluZ0pvYnMnXSksCiAgICAgICAgLi4ubWFwQWN0aW9ucygnQ3Jhd2xlcicsWydkZWxldGVDcmF3bGVyJ10pLAogICAgICAgIC4uLm1hcEFjdGlvbnMoJ0NyYXdsZXInLFsnZ2V0Q3Jhd2xlckRldGFpbHNBcGknXSksCiAgICAgICAgCgogICAgICAgIHVwZGF0ZURpYWxvZyhvcGVuRGlhbG9nKXsKICAgICAgICAgIHRoaXMudHJpZ2dlck9wZW5DcmF3bGVyRGV0YWlscyA9IG9wZW5EaWFsb2cKICAgICAgICB9LAoKICAgICAgICBnZXRDcmF3bGVyc0RhdGEoKXsKICAgICAgICAgIHRoaXMuZ2V0QWxsQ3Jhd2xlcnModGhpcy5jcmF3bGVySW5Qcm9jZXNzKQogICAgICAgIH0sCgogICAgICAgIAoKCiAgICAgICAgZXhlY3V0ZUNyYXdsZXIoaWQpewogICAgICAgICAgbGV0IHBsYXlsb2FkID0geydpZCc6IGlkLCAnZm9ybSc6IHRoaXMuY3Jhd2xlckluUHJvY2Vzc30KICAgICAgICAgIGNvbnNvbGUubG9nKHBsYXlsb2FkKQogICAgICAgICAgdGhpcy5ydW5DcmF3bGVyKHBsYXlsb2FkKQogICAgICAgICAgdGhpcy5zdGFydExvbmdQb2xsaW5nPXRydWUKICAgICAgICAgIHRoaXMuY3Jhd2xlckFsZXJ0ID0gdHJ1ZQogICAgICAgICAgdGhpcy5jcmF3bGVyQWxlcnRNZXNzYWdlID0gIkNyYXdsZXIgc3RhcnRlZCIKICAgICAgICAgIHRoaXMuY3Jhd2xlckFsZXJ0SWNvbiA9ICdtZGktc3BpZGVyJwogICAgICAgIH0sCgogICAgICAgIGV4aXRSdW5uaW5nSm9iKHRhc2tJZCl7CiAgICAgICAgICB0aGlzLmNyYXdsZXJJblByb2Nlc3NbJ2pvYiddID0gdGFza0lkCiAgICAgICAgICB0aGlzLnN0b3BwaW5nQ3Jhd2xlciA9IHRydWUKICAgICAgICAgIHRoaXMuY2FuY2VsUnVubmluZ0pvYih0aGlzLmNyYXdsZXJJblByb2Nlc3MpCiAgICAgICAgICB0aGlzLmluUHJvY2VzcyA9IGZhbHNlCiAgICAgICAgICB0aGlzLnRpbWVDb3VudGVyID0gJycKICAgICAgICAgIAogICAgICAgICAgdGhpcy5nZXRBbGxDcmF3bGVycyh0aGlzLmNyYXdsZXJJblByb2Nlc3MpCiAgICAgICAgfSwKCiAgICAgICAgcmVtb3ZlQ3Jhd2xlcihjcmF3bGVySWQpewogICAgICAgICAgbGV0IHBsYXlsb2FkID0ge30KICAgICAgICAgIHBsYXlsb2FkWydjcmF3bGVyX2lkJ10gPSBjcmF3bGVySWQKICAgICAgICAgIHBsYXlsb2FkWydjcmF3bGVySW5Qcm9jZXNzJ10gPSB0aGlzLmNyYXdsZXJJblByb2Nlc3MKICAgICAgICAgIHBsYXlsb2FkWyd2bSddID0gdGhpcwogICAgICAgICAgdGhpcy5kZWxldGVDcmF3bGVyKHBsYXlsb2FkKQogICAgICAgIH0sCgogICAgICAgIGdldENyYXdsZXJJbmZvICh0YXNrX2lkKXsKICAgICAgICAgIGxldCBqb2JzID0gdGhpcy5nZXRKb2IKICAgICAgICAgIGxldCBmaW5pc2hlZF9qb2JzID0gdGhpcy5nZXRGaW5pc2hlZEpvYnMKICAgICAgICAgIGxldCBjcmF3bGVyID0gbnVsbAogICAgICAgICAgaWYoam9icy5sZW5ndGggPiAwKXsKICAgICAgICAgICAgICBjcmF3bGVyID0gam9icy5maW5kKG8gPT4gby5pZCA9PT0gdGFza19pZCk7CiAgICAgICAgICAgICAgaWYoY3Jhd2xlciA9PSBudWxsICYmIGZpbmlzaGVkX2pvYnMubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgICAgIGNyYXdsZXIgPSBmaW5pc2hlZF9qb2JzLmZpbmQobyA9PiBvLmlkID09PSB0YXNrX2lkKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBlbHNlIGlmKGZpbmlzaGVkX2pvYnMubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgY3Jhd2xlciA9IGZpbmlzaGVkX2pvYnMuZmluZChvID0+IG8uaWQgPT09IHRhc2tfaWQpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBjcmF3bGVyCiAgICAgICAgfSwKCiAgICAgICAgY3Jhd2xlckJ1dHRvbkNvbnRyb2xTd2l0Y2godGFza19pZCl7CiAgICAgICAgICBsZXQgaXNBY3RpdmUgPSB0aGlzLmdldENyYXdsZXJJbmZvKHRhc2tfaWQpID8gdGhpcy5nZXRDcmF3bGVySW5mbyh0YXNrX2lkKS5pc0FjdGl2ZSA6IGZhbHNlCiAgICAgICAgICAKICAgICAgICAgIHJldHVybiBpc0FjdGl2ZQogICAgICAgIH0sCgogICAgICAgIG9wZW5DcmF3bGVyRGV0YWlscygpewogICAgICAgICAgdGhpcy50cmlnZ2VyT3BlbkNyYXdsZXJEZXRhaWxzID0gdHJ1ZQogICAgICAgICAgY29uc29sZS5sb2coIlRJTUUgRVMgLS0tPiIpCiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmdldENyYXdsZXJEZXRhaWxzLmVzdGltYXRyZWRfY291bnRfZG93bl9kYXRlKQogICAgICAgICAgdGhpcy50aW1lQ291bnREb3duKHRoaXMuZ2V0Q3Jhd2xlckRldGFpbHMuZXN0aW1hdHJlZF9jb3VudF9kb3duX2RhdGUpCiAgICAgICAgfSwKCiAgICAgICAgLy8gY29tcHV0ZVRpbWVUb1B1bGxDcmF3bGVyRGF0YShudW1iZXJfb2ZfcHJvZHVjdHNfZm91bmQpewogICAgICAgIC8vICAgICBpZiAobnVtYmVyX29mX3Byb2R1Y3RzX2ZvdW5kID09IHVuZGVmaW5lZCkgewogICAgICAgIC8vICAgICAgIHJldHVybiAxMDAwCiAgICAgICAgLy8gICAgIH0KICAgICAgICAvLyAgICAgbGV0IG51bWJlciA9IG51bWJlcl9vZl9wcm9kdWN0c19mb3VuZC50b1N0cmluZygpLmxlbmd0aDsKICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ25iciA6ICcrbnVtYmVyKQogICAgICAgIC8vICAgICBjb25zb2xlLmxvZygiZ2V0Sm9iU3RhdGUiK3RoaXMuZ2V0Sm9iU3RhdGUpCgogICAgICAgIC8vICAgICBpZiAodGhpcy5nZXRKb2JTdGF0ZSAhPSAncnVubmluZycpIHsKICAgICAgICAvLyAgICAgICByZXR1cm4gMTAwMAogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gICAgIGVsc2UgaWYgKCBudW1iZXIgPT0gMSB8fCBudW1iZXIgPT0gMikgewogICAgICAgIC8vICAgICAgIHJldHVybiAyMDAwCiAgICAgICAgLy8gICAgIH0KICAgICAgICAvLyAgICAgZWxzZSBpZiAoIG51bWJlciA9PSAzKXsKICAgICAgICAvLyAgICAgICByZXR1cm4gNjAwMAogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gICAgIGVsc2UgaWYgKCBudW1iZXIgPT0gNCl7CiAgICAgICAgLy8gICAgICAgcmV0dXJuIDMwMDAwCiAgICAgICAgLy8gICAgIH0KICAgICAgICAvLyAgICAgZWxzZSBpZiAoIG51bWJlciA9PSA1KXsKICAgICAgICAvLyAgICAgICByZXR1cm4gNTAwMDAKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vICAgICBlbHNlIGlmICggbnVtYmVyID09IDYpewogICAgICAgIC8vICAgICAgIHJldHVybiAxMDAwMDAKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vICAgICByZXR1cm4gMjAwMDAwCiAgICAgICAgLy8gfSwKCiAgICAgICAgY2FsY3VsYXRlUGVyY2VudGFnZSh2YWx1ZSwgdG90YWwpewogICAgICAgICAgcmV0dXJuIE1hdGguY2VpbCgodmFsdWUvdG90YWwpICogMTAwKQogICAgICAgIH0sCgogICAgICAgIHBvbGxpbmdGcmVzaENyYXdsZXJzSW5mbygpewogICAgICAgICAgICB2YXIgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgKICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7IAogICAgICAgICAgICAgICAgdGhpcy5nZXRBbGxDcmF3bGVycyh0aGlzLmNyYXdsZXJJblByb2Nlc3MpCgogICAgICAgICAgICAgICAgdGhpcy5nZXRDcmF3bGVyRGV0YWlsc0FwaSgpCiAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZ2V0TGFzdENyYXdsZXJUYXNrSWQgPT0gdGhpcy5nZXRKb2JbMF0uaWQpewogICAgICAgICAgICAgICAgICAgIHRoaXMuY3Jhd2xlckRldGFpbHNSZWFkeSA9IHRydWUKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgIHRoaXMuY3Jhd2xlckRldGFpbHNSZWFkeSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmKHRoaXMuZ2V0Sm9iU3RhdGUgPT0gJ2ZpbmlzaGVkJyB8fCAhdGhpcy5pc0F1dGgpewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiU1RPUCBQT0xMSU5HISEiKQogICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTsKICAgICAgICAgICAgICAgICAgaWYodGhpcy5pc0F1dGgpewogICAgICAgICAgICAgICAgICAgIGxldCBuX2F1ZGlvID0gbmV3IEF1ZGlvKCdodHRwczovL2ZyZWVzb3VuZC5vcmcvZGF0YS9wcmV2aWV3cy8zMjAvMzIwNjU1XzUyNjA4NzItbHEubXAzJyk7CiAgICAgICAgICAgICAgICAgICAgbl9hdWRpby5wbGF5KCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgdGhpcy5zdG9wcGluZ0NyYXdsZXIgPSBmYWxzZQogICAgICAgICAgICAgICAgICB0aGlzLmNyYXdsZXJEZXRhaWxzUmVhZHkgPSBmYWxzZQogICAgICAgICAgICAgICAgICB0aGlzLmNyYXdsZXJBbGVydCA9IHRydWUKICAgICAgICAgICAgICAgICAgdGhpcy5jcmF3bGVyQWxlcnRNZXNzYWdlID0gIkNyYXdsZXIgZmluaXNoZWQiCiAgICAgICAgICAgICAgICAgIHRoaXMuY3Jhd2xlckFsZXJ0SWNvbiA9ICdtZGktc3BpZGVyJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAuYmluZCh0aGlzKSwgNTAwMCkKICAgICAgICB9LAoKICAgICAgICB0aW1lQ291bnREb3duKHRpbWUpewogICAgICAgIC8vIHRyeSB7CiAgICAgICAgICBsZXQgY291bnREb3duRGF0ZSA9IG5ldyBEYXRlKHRpbWUpLmdldFRpbWUoKTsKICAgICAgICAgIAoKICAgICAgICAgICAgLy8gUnVuIG15ZnVuYyBldmVyeSBzZWNvbmQKICAgICAgICAgICAgbGV0IG15ZnVuYyA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewoKICAgICAgICAgICAgbGV0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgICAgICAgICBsZXQgdGltZWxlZnQgPSBjb3VudERvd25EYXRlIC0gbm93OwoKICAgICAgICAgICAgLy8gQ2FsY3VsYXRpbmcgdGhlIGRheXMsIGhvdXJzLCBtaW51dGVzIGFuZCBzZWNvbmRzIGxlZnQKICAgICAgICAgICAgbGV0IGRheXMgPSBNYXRoLmZsb29yKHRpbWVsZWZ0IC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTsKICAgICAgICAgICAgbGV0IGhvdXJzID0gTWF0aC5mbG9vcigodGltZWxlZnQgJSAoMTAwMCAqIDYwICogNjAgKiAyNCkpIC8gKDEwMDAgKiA2MCAqIDYwKSk7CiAgICAgICAgICAgIGxldCBtaW51dGVzID0gTWF0aC5mbG9vcigodGltZWxlZnQgJSAoMTAwMCAqIDYwICogNjApKSAvICgxMDAwICogNjApKTsKICAgICAgICAgICAgbGV0IHNlY29uZHMgPSBNYXRoLmZsb29yKCh0aW1lbGVmdCAlICgxMDAwICogNjApKSAvIDEwMDApOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIHRoaXMudGltZUNvdW50ZXIgPSBkYXlzKyI6Iitob3VycysiOiIrbWludXRlcysiOiIrc2Vjb25kcwogICAgICAgICAgICBjb25zb2xlLmxvZygnVElNRS0tLS0tLS0tLT4nKQogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRpbWVDb3VudGVyKQogICAgICAgICAgICAvLyBEaXNwbGF5IHRoZSBtZXNzYWdlIHdoZW4gY291bnRkb3duIGlzIG92ZXIKICAgICAgICAgICAgaWYgKHRpbWVsZWZ0IDwgMCB8fCB0aGlzLmdldEpvYlN0YXRlID09ICdmaW5pc2hlZCcpIHsKICAgICAgICAgICAgICB0aGlzLnRpbWVDb3VudGVyID0gJycKICAgICAgICAgICAgICBjbGVhckludGVydmFsKG15ZnVuYyk7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJUSU1FIFVQIikKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLmJpbmQodGhpcyksIDEwMDApOwogICAgICAgIC8vIH0KICAgICAgICAgIC8vIGNhdGNoIChlcnJvcikge30KICAgICAgICB9LAoKICAgIH0sCgogICAgCgogICAgY3JlYXRlZCAoKSB7CiAgICAgIHRoaXMuZ2V0Q3Jhd2xlckRldGFpbHNBcGkoKQogICAgICAKICAgICAgaWYodGhpcy5nZXRKb2JTdGF0ZSAhPSAnZmluaXNoZWQnKXsKICAgICAgICAKICAgICAgICB0aGlzLnBvbGxpbmdGcmVzaENyYXdsZXJzSW5mbygpCiAgICAgIH0KCiAgICAgIAogICAgfQogICAgCiAgfQo="},{"version":3,"sources":["CrawlersList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuOA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;AAKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;AACA;;AAEA;;AAEA;AACA;;;AAGA;;AAEA","file":"CrawlersList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n   <v-app id=\"inspire\">\n      <v-main>\n        <v-card>\n          <v-card-title>\n            Crawlers List\n            <v-spacer></v-spacer>\n            <v-text-field\n              v-model=\"search\"\n              append-icon=\"mdi-magnify\"\n              label=\"Search\"\n              single-line\n              hide-details\n            ></v-text-field>\n          </v-card-title>\n          <v-data-table\n            :headers=\"headers\"\n            :items=\"getCrawlers\"\n            :search=\"search\"\n            class=\"elevation-1\"\n            :loading=\"isLoading\"\n            loading-text=\"Loading... Please wait\">\n            <template v-slot:item.name=\"{ item }\">\n              <b>{{item.name}}</b>\n            </template>\n            <template v-slot:item.start_url=\"{ item }\">\n              <a :href=\"item.start_url\" target=\"_blank\">{{item.start_url}}</a>\n            </template>\n            <template v-slot:item.state=\"{ item }\">\n                <span v-if=\"getCrawlerInfo(item.task_id) != null && crawlerButtonControlSwitch(item.task_id) \">\n                  <!-- {{ getJobState }} -->\n                  <v-chip\n                    class=\"ma-2\"\n                    small\n                    v-if=\"getJobState == 'pending'\"\n                  >\n                  <v-icon left small>\n                    mdi-cog-sync\n                  </v-icon>\n                    {{getJobState}}\n                  </v-chip>\n                  <v-chip\n                    class=\"ma-2\"\n                    small\n                    color=\"red\"\n                    text-color=\"white\"\n                    v-else-if=\"getJobState == 'running'\"\n                  >\n                    <span style=\"margin: 3px\">\n                      <i  class=\"fas fa-cog fa-spin\" style=\"color:white\"></i>\n                    </span>\n                      {{getJobState}}\n                  </v-chip>\n                  <v-chip\n                    class=\"ma-2\"\n                    small\n                    color=\"green\"\n                    text-color=\"white\"\n                    v-else-if=\"getJobState == 'finished'\"\n                  >\n                  <v-icon left small>\n                    mdi-check-all\n                  </v-icon>\n                  {{getJobState}}\n                  </v-chip>\n                </span>\n                <span v-else-if=\"getCrawlerInfo(item.task_id) != null\">\n                  <v-chip\n                    class=\"ma-2\"\n                    small\n                    v-if=\"getCrawlerInfo(item.task_id).state == 'pending'\"\n                  >\n                    {{getCrawlerInfo(item.task_id).state}}\n                  </v-chip>\n                  <v-chip\n                    class=\"ma-2\"\n                    small\n                    color=\"red\"\n                    text-color=\"white\"\n                    v-else-if=\"getCrawlerInfo(item.task_id).state == 'running'\"\n                  >\n                    <span style=\"margin: 3px\">\n                      <i class=\"fas fa-cog fa-spin\" style=\"color:white\"></i>\n                    </span>\n                    {{getCrawlerInfo(item.task_id).state}}\n                  </v-chip>\n                  <v-chip\n                    class=\"ma-2\"\n                    small\n                    color=\"green\"\n                    text-color=\"white\"\n                    v-else-if=\"getCrawlerInfo(item.task_id).state == 'finished'\"\n                  >\n                  <v-icon left small>\n                    mdi-check-all\n                  </v-icon>\n                  {{getCrawlerInfo(item.task_id).state}}\n                  </v-chip>\n                </span>\n                <span v-else-if=\"getOtherErrors.length > 0\">\n                  <v-chip\n                    class=\"ma-2\"\n                    small\n                    color=\"black\"\n                    text-color=\"white\"\n                  >\n                  <v-icon left small>\n                    mdi-restore-alert\n                  </v-icon>\n                  server error\n                  </v-chip>\n                </span>\n                <span v-else><v-icon small>mdi-check-outline</v-icon></span>\n            </template>\n            <template v-slot:item.task_id=\"{ item }\">\n                <v-chip\n                    class=\"ma-2\"\n                    small\n                    color=\"orange\"\n                    text-color=\"white\"\n                    v-if=\"item.task_id == 'New Crawler'\"\n                  >\n                  <v-icon left small>\n                    mdi-alert-decagram\n                  </v-icon>\n                  {{item.task_id}}\n                  </v-chip>\n                  <span v-else>{{item.task_id}}</span>\n            </template>\n              <template v-slot:item.btn_run_stop=\"{ item }\">\n                <v-btn\n                  icon\n                  v-if=\"crawlerButtonControlSwitch(item.task_id) && getJobState != 'finished'\"\n                  :disabled=\"getLoadingRunningCrawlerExecution || stoppingCrawler || getOtherErrors.length > 0\"\n                  v-on:click=\"exitRunningJob(item.task_id)\"\n                  color=\"black\">\n                  <v-icon>mdi-close-circle-outline</v-icon>\n                </v-btn>\n                <v-btn\n                  icon\n                  v-else\n                  :disabled=\"getLoadingRunningCrawlerExecution || getJobState != 'finished' || stoppingCrawler || getDeletingCrawlerLoading || getOtherErrors.length > 0\"\n                  v-on:click=\"executeCrawler(item.crawlerId)\"\n                  color=\"black\">\n                  <v-icon>mdi-play</v-icon>\n                </v-btn>\n              </template>\n              <template v-slot:item.btn_delete=\"{ item }\">\n                <v-btn\n                  icon\n                  :disabled=\"getLoadingRunningCrawlerExecution || getJobState != 'finished' || getOtherErrors.length > 0\"\n                  v-on:click=\"removeCrawler(item.crawlerId)\"\n                  color=\"black\">\n                  <v-icon>mdi-delete</v-icon>\n                </v-btn>\n              </template>\n              <!-- Details btn -->\n              <template v-slot:item.details_btn=\"{ item }\">\n                <v-btn\n                  icon\n                  v-if=\"crawlerButtonControlSwitch(item.task_id) && getJobState != 'finished'\"\n                  :disabled=\"getLoadingRunningCrawlerExecution || stoppingCrawler || !crawlerDetailsReady || getOtherErrors.length > 0\"\n                  v-on:click=\"openCrawlerDetails()\"\n                  color=\"black\">\n                  <v-icon>mdi-eye</v-icon>\n                </v-btn>\n              </template>\n            </v-data-table>\n        </v-card>\n        <v-overlay :value=\"stoppingCrawler\">\n          <v-progress-circular\n            indeterminate\n            size=\"64\"\n          ></v-progress-circular>\n        </v-overlay>\n\n        <v-dialog\n          v-model=\"getDeletingCrawlerLoading\"\n          hide-overlay\n          persistent\n          width=\"300\"\n        >\n          <v-card\n            color=\"primary\"\n            dark\n          >\n            <v-card-text>\n              Please stand by\n              <v-progress-linear\n                indeterminate\n                color=\"white\"\n                class=\"mb-0\"\n              ></v-progress-linear>\n            </v-card-text>\n          </v-card>\n        </v-dialog>\n        <v-snackbar\n        ref=\"snackbarDeleteCrawler\"\n        elevation=\"24\"\n        color=\"success\"\n        v-model=\"crawlerAlert\"\n        :timeout=\"crawlerAlertTimeoutMessage\"\n        >\n        <v-icon large>{{crawlerAlertIcon}}</v-icon>\n        <b style=\"font-size:150%; margin-left:5px\">{{ crawlerAlertMessage }}</b>\n        <template v-slot:action=\"{ attrs }\">\n          <v-btn\n            color=\"white\"\n            text\n            v-bind=\"attrs\"\n            @click=\"crawlerAlert = false\"\n          >\n            Close\n          </v-btn>\n        </template>\n    </v-snackbar>\n      </v-main>\n    <crawler-details \n        v-show=\"crawlerDetailsReady\" \n        :percentage=\"productsInsertedPercentage\" \n        :openDialog=\"triggerOpenCrawlerDetails\" \n        :activeCrawlerDetails=\"getCrawlerDetails\"\n        :jobState=\"getJobState\"\n        :crawlertimeCounter=\"timeCounter\"\n        @update-openDialog=\"updateDialog\"\n    ></crawler-details>\n   </v-app>\n</template>\n\n\n<script>\nimport {mapActions,mapGetters, mapState} from \"vuex\"\nimport CrawlerDetails from './CrawlerDetails.vue';\n  export default {\n  components: { CrawlerDetails },\n\n    name: 'CrawlersList',\n    props: {\n      refreshCrawlerListData: false\n    },\n    \n    data () {\n      return {\n        search: '',\n        inProcess: true,\n        startLongPolling:false,\n        polling: null,\n        stoppingCrawler: false,\n        crawlerAlert: false,\n        crawlerAlertTimeoutMessage: 5000,\n        crawlerAlertMessage: '',\n        crawlerAlertIcon: '',\n        triggerOpenCrawlerDetails: false,\n        totalProductsFound: 0,\n        lastCrawler: {},\n        lastCrawlerTaskId: null,\n        crawlerDetailsReady: false,\n        productsInsertedPercentage: 0,\n        timeCounter: '',\n        timeToPullFreshCrawlerData: 0,\n        job_id : null,\n        crawlerInProcess:{\n          project: 'default',\n          job: ''\n        },\n        headers: [\n          {\n            text: 'Crawler Name',\n            align: 'start',\n            value: 'name',\n          },\n          { text: 'Start URL', value: 'start_url', sortable: false },\n          { text: 'Status', value: 'state', sortable: false },\n          { text: 'Unique ID', value: 'task_id', sortable: false},\n          { text: ' ', value: 'btn_run_stop', sortable: false },\n          { text: ' ', value: 'btn_delete', sortable: false },\n          { text: ' ', value: 'details_btn', sortable: false },\n        ],\n      }\n    },\n\n    mounted () {\n      this.getJobState\n      this.getCrawlersData();\n    },\n\n    watch: {\n      getFullPath () {\n        this.getCrawlersData()\n      },\n\n      refreshCrawlerListData(){\n        location.reload();\n      },  \n\n      getJobState(newVal, oldVal){\n          // console.log(\"TIME TO PULL---> \"+this.timeToPullFreshCrawlerData)\n          this.pollingFreshCrawlersInfo()\n      },\n\n      getLastCrawlerTaskId(newVal, oldVal){\n          console.log(\"OLD ID: \"+oldVal)\n          console.log(\"NEW ID: \"+newVal)\n          if(oldVal != undefined){\n            console.log(\"-->READY\")\n            this.crawlerDetailsReady = true\n            \n          }\n      },\n      \n      getCrawlerProductsInserted(newVal, oldVal){\n        this.productsInsertedPercentage = this.calculatePercentage(newVal, this.getCrawlerDetails.number_of_products_found)\n      }\n\n    },\n\n    computed: {\n      ...mapGetters(\"Auth\",[\"isAuth\"]),\n      ...mapGetters(\"Crawler\",[\"getCrawlers\"]),\n      ...mapGetters(\"Crawler\",[\"isLoading\"]),\n      ...mapGetters(\"Crawler\",[\"getLoadingRunningCrawlerExecution\"]),\n      ...mapGetters(\"Crawler\",[\"getRunningCrawler\"]),\n      ...mapGetters(\"Crawler\",[\"getRunningCrawlerTaskId\"]),\n      ...mapGetters(\"Crawler\",[\"getJob\"]),\n      ...mapGetters(\"Crawler\",[\"getFinishedJobs\"]),\n      ...mapGetters(\"Crawler\",[\"getJobState\"]),\n      ...mapGetters(\"Crawler\",[\"getDeletingCrawlerLoading\"]),\n      ...mapGetters(\"Crawler\",[\"getCrawlerDetails\"]),\n      ...mapState(\"Crawler\",[\"crawler_details\"]),\n      ...mapState(\"Crawler\",[\"running_crawler_task_id\"]),\n      ...mapGetters(\"Crawler\",[\"getOtherErrors\"]),\n      \n\n      getFullPath () {\n        return this.$route.path\n      },\n\n      getLastCrawlerTaskId(){\n        return this.crawler_details.task_id\n      },\n\n      getCrawlerProductsInserted(){\n        try {\n          return this.getCrawlerDetails.products_inserted\n        } catch (error) {}\n      }\n\n      \n\n      \n    },\n    \n    methods:{\n        ...mapActions('Crawler',['getAllCrawlers']),\n        ...mapActions('Crawler',['runCrawler']),\n        ...mapActions('Crawler',['getJobs']),\n        ...mapActions('Crawler',['cancelRunningJob']),\n        ...mapActions('Crawler',['getRuningJobs']),\n        ...mapActions('Crawler',['deleteCrawler']),\n        ...mapActions('Crawler',['getCrawlerDetailsApi']),\n        \n\n        updateDialog(openDialog){\n          this.triggerOpenCrawlerDetails = openDialog\n        },\n\n        getCrawlersData(){\n          this.getAllCrawlers(this.crawlerInProcess)\n        },\n\n        \n\n\n        executeCrawler(id){\n          let playload = {'id': id, 'form': this.crawlerInProcess}\n          console.log(playload)\n          this.runCrawler(playload)\n          this.startLongPolling=true\n          this.crawlerAlert = true\n          this.crawlerAlertMessage = \"Crawler started\"\n          this.crawlerAlertIcon = 'mdi-spider'\n        },\n\n        exitRunningJob(taskId){\n          this.crawlerInProcess['job'] = taskId\n          this.stoppingCrawler = true\n          this.cancelRunningJob(this.crawlerInProcess)\n          this.inProcess = false\n          this.timeCounter = ''\n          \n          this.getAllCrawlers(this.crawlerInProcess)\n        },\n\n        removeCrawler(crawlerId){\n          let playload = {}\n          playload['crawler_id'] = crawlerId\n          playload['crawlerInProcess'] = this.crawlerInProcess\n          playload['vm'] = this\n          this.deleteCrawler(playload)\n        },\n\n        getCrawlerInfo (task_id){\n          let jobs = this.getJob\n          let finished_jobs = this.getFinishedJobs\n          let crawler = null\n          if(jobs.length > 0){\n              crawler = jobs.find(o => o.id === task_id);\n              if(crawler == null && finished_jobs.length > 0){\n                  crawler = finished_jobs.find(o => o.id === task_id);\n              }\n          }\n          else if(finished_jobs.length > 0){\n              crawler = finished_jobs.find(o => o.id === task_id);\n          }\n\n          return crawler\n        },\n\n        crawlerButtonControlSwitch(task_id){\n          let isActive = this.getCrawlerInfo(task_id) ? this.getCrawlerInfo(task_id).isActive : false\n          \n          return isActive\n        },\n\n        openCrawlerDetails(){\n          this.triggerOpenCrawlerDetails = true\n          console.log(\"TIME ES --->\")\n          console.log(this.getCrawlerDetails.estimatred_count_down_date)\n          this.timeCountDown(this.getCrawlerDetails.estimatred_count_down_date)\n        },\n\n        // computeTimeToPullCrawlerData(number_of_products_found){\n        //     if (number_of_products_found == undefined) {\n        //       return 1000\n        //     }\n        //     let number = number_of_products_found.toString().length;\n        //     console.log('nbr : '+number)\n        //     console.log(\"getJobState\"+this.getJobState)\n\n        //     if (this.getJobState != 'running') {\n        //       return 1000\n        //     }\n        //     else if ( number == 1 || number == 2) {\n        //       return 2000\n        //     }\n        //     else if ( number == 3){\n        //       return 6000\n        //     }\n        //     else if ( number == 4){\n        //       return 30000\n        //     }\n        //     else if ( number == 5){\n        //       return 50000\n        //     }\n        //     else if ( number == 6){\n        //       return 100000\n        //     }\n        //     return 200000\n        // },\n\n        calculatePercentage(value, total){\n          return Math.ceil((value/total) * 100)\n        },\n\n        pollingFreshCrawlersInfo(){\n            var interval = setInterval(\n              function () { \n                this.getAllCrawlers(this.crawlerInProcess)\n\n                this.getCrawlerDetailsApi()\n                  if(this.getLastCrawlerTaskId == this.getJob[0].id){\n                    this.crawlerDetailsReady = true\n                  }\n                  else{\n                    this.crawlerDetailsReady = false\n                  }\n                  \n             \n                if(this.getJobState == 'finished' || !this.isAuth){\n                  console.log(\"STOP POLLING!!\")\n                  clearInterval(interval);\n                  if(this.isAuth){\n                    let n_audio = new Audio('https://freesound.org/data/previews/320/320655_5260872-lq.mp3');\n                    n_audio.play();\n                  }\n                  this.stoppingCrawler = false\n                  this.crawlerDetailsReady = false\n                  this.crawlerAlert = true\n                  this.crawlerAlertMessage = \"Crawler finished\"\n                  this.crawlerAlertIcon = 'mdi-spider'\n                }\n              }\n              .bind(this), 5000)\n        },\n\n        timeCountDown(time){\n        // try {\n          let countDownDate = new Date(time).getTime();\n          \n\n            // Run myfunc every second\n            let myfunc = setInterval(function() {\n\n            let now = new Date().getTime();\n            let timeleft = countDownDate - now;\n\n            // Calculating the days, hours, minutes and seconds left\n            let days = Math.floor(timeleft / (1000 * 60 * 60 * 24));\n            let hours = Math.floor((timeleft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n            let minutes = Math.floor((timeleft % (1000 * 60 * 60)) / (1000 * 60));\n            let seconds = Math.floor((timeleft % (1000 * 60)) / 1000);\n                \n            this.timeCounter = days+\":\"+hours+\":\"+minutes+\":\"+seconds\n            console.log('TIME--------->')\n            console.log(this.timeCounter)\n            // Display the message when countdown is over\n            if (timeleft < 0 || this.getJobState == 'finished') {\n              this.timeCounter = ''\n              clearInterval(myfunc);\n                  console.log(\"TIME UP\")\n              }\n            }\n            .bind(this), 1000);\n        // }\n          // catch (error) {}\n        },\n\n    },\n\n    \n\n    created () {\n      this.getCrawlerDetailsApi()\n      \n      if(this.getJobState != 'finished'){\n        \n        this.pollingFreshCrawlersInfo()\n      }\n\n      \n    }\n    \n  }\n</script>"]}]}